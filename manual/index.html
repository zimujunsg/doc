<!DOCTYPE html>
<html class="no-js" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="浙江大学操作系统课程实验指导" name="description"/>
<meta content="浙江大学计算机科学与技术学院" name="author"/>
<link href="https://zju-os.github.io/doc/manual/" rel="canonical"/>
<link href=".." rel="prev"/>
<link href="../lab0/" rel="next"/>
<link href="../assets/zjueagle.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.23" name="generator"/>
<title>实验流程及工具讲解 - ZJU OS</title>
<link href="../assets/stylesheets/main.84d31ad4.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../css/timeago.css" rel="stylesheet"/>
<link href="../stylesheets/fonts.css" rel="stylesheet"/>
<link href="../stylesheets/counter.css" rel="stylesheet"/>
<link href="../stylesheets/neoteroi-v1.1.2.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><script src="../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#实验流程及工具讲解">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="ZJU OS" class="md-header__button md-logo" data-md-component="logo" href=".." title="ZJU OS">
<img alt="logo" src="../assets/zjueagle_white.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            ZJU OS
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              实验流程及工具讲解
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/ZJU-OS/doc" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    ZJU-OS/doc
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="ZJU OS" class="md-nav__button md-logo" data-md-component="logo" href=".." title="ZJU OS">
<img alt="logo" src="../assets/zjueagle_white.svg"/>
</a>
    ZJU OS
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/ZJU-OS/doc" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    ZJU-OS/doc
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    首页
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
<span class="md-ellipsis">
    实验文档
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            实验文档
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    实验流程及工具讲解
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    实验流程及工具讲解
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#实验流程概览">
<span class="md-ellipsis">
      实验流程概览
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#前置要求">
<span class="md-ellipsis">
      前置要求
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#part-1本地环境准备">
<span class="md-ellipsis">
      Part 1：本地环境准备
    </span>
</a>
<nav aria-label="Part 1：本地环境准备" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#git-配置">
<span class="md-ellipsis">
      Git 配置
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#zju-git-源码拉取">
<span class="md-ellipsis">
      ZJU Git 源码拉取
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#安装和使用-docker">
<span class="md-ellipsis">
      安装和使用 Docker
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#使用-docker-compose">
<span class="md-ellipsis">
      使用 Docker Compose
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#使用-ide-拉起-devcontainer">
<span class="md-ellipsis">
      使用 IDE 拉起 DevContainer
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#part-2容器实验环境">
<span class="md-ellipsis">
      Part 2：容器实验环境
    </span>
</a>
<nav aria-label="Part 2：容器实验环境" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#源代码管理">
<span class="md-ellipsis">
      源代码管理
    </span>
</a>
<nav aria-label="源代码管理" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#vscode-git-插件">
<span class="md-ellipsis">
      VSCode Git 插件
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#git-submodule">
<span class="md-ellipsis">
      Git Submodule
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#git-merge-与-rebase">
<span class="md-ellipsis">
      Git Merge 与 Rebase
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#本课程的-git-工作流">
<span class="md-ellipsis">
      本课程的 Git 工作流
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#开发">
<span class="md-ellipsis">
      开发
    </span>
</a>
<nav aria-label="开发" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#clangd">
<span class="md-ellipsis">
      Clangd
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#构建和运行">
<span class="md-ellipsis">
      构建和运行
    </span>
</a>
<nav aria-label="构建和运行" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#makefile">
<span class="md-ellipsis">
      Makefile
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#qemu">
<span class="md-ellipsis">
      QEMU
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#调试">
<span class="md-ellipsis">
      调试
    </span>
</a>
<nav aria-label="调试" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb">
<span class="md-ellipsis">
      GDB
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vscode-调试器">
<span class="md-ellipsis">
      VSCode 调试器
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#本地评测">
<span class="md-ellipsis">
      本地评测
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../lab0/">
<span class="md-ellipsis">
    Lab 0: Linux 内核调试
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../lab1/">
<span class="md-ellipsis">
    Lab 1：内核启动与时钟中断
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../lab2/">
<span class="md-ellipsis">
    Lab 2：抢占式内核线程调度
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../lab3/">
<span class="md-ellipsis">
    Lab 3：Sv39 分页式虚拟内存系统
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../lab4/">
<span class="md-ellipsis">
    Lab 4：用户态
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../z1-spike/">
<span class="md-ellipsis">
    附录 1：Spike 工具链
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
<span class="md-ellipsis">
    RISC-V 规范
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            RISC-V 规范
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../spec/riscv-privileged.html">
<span class="md-ellipsis">
    特权级规范
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../spec/riscv-unprivileged.html">
<span class="md-ellipsis">
    非特权级规范
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../spec/riscv-abi.pdf">
<span class="md-ellipsis">
    ELF ABI 规范
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../spec/riscv-sbi.pdf">
<span class="md-ellipsis">
    SBI 规范
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../spec/riscv-asm.pdf">
<span class="md-ellipsis">
    汇编规范
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://riscv-programming.org/">
<span class="md-ellipsis">
    汇编教程
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
<span class="md-ellipsis">
    工具文档
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            工具文档
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="https://www.qemu.org/docs/master/index.html">
<span class="md-ellipsis">
    QEMU
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://sourceware.org/gdb/current/onlinedocs/gdb">
<span class="md-ellipsis">
    GDB
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://gcc.gnu.org/onlinedocs/">
<span class="md-ellipsis">
    GCC
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://sourceware.org/binutils/docs/as">
<span class="md-ellipsis">
    as
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://sourceware.org/binutils/docs/ld">
<span class="md-ellipsis">
    ld
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://sourceware.org/binutils/docs/binutils">
<span class="md-ellipsis">
    binutils
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
<span class="md-ellipsis">
    源码仓库
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            源码仓库
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/torvalds/linux">
<span class="md-ellipsis">
    Linux (GitHub)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://elixir.bootlin.com/">
<span class="md-ellipsis">
    Linux (Cross Referencer)
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/riscv-software-src/opensbi">
<span class="md-ellipsis">
    OpenSBI
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://github.com/qemu/qemu/">
<span class="md-ellipsis">
    QEMU
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
<span class="md-ellipsis">
    助教文档
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            助教文档
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../ta/autograder/">
<span class="md-ellipsis">
    评测框架
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ta/dev/">
<span class="md-ellipsis">
    源代码管理
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ta/tool/">
<span class="md-ellipsis">
    辅助工具
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_6_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
<span class="md-ellipsis">
    blog
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_4">
<span class="md-nav__icon md-icon"></span>
            blog
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../ta/blog/1.pid0/">
<span class="md-ellipsis">
    操作系统小记（一）：从 PID 0 开始
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ta/blog/2.sync/">
<span class="md-ellipsis">
    操作系统小记（二）：内核同步方法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ta/blog/3.stack_unwind/">
<span class="md-ellipsis">
    操作系统小记（三）：函数序言、调试器断点与堆栈回溯
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ta/blog/4.board/">
<span class="md-ellipsis">
    操作系统小记（四）：内核上板历险记
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#实验流程概览">
<span class="md-ellipsis">
      实验流程概览
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#前置要求">
<span class="md-ellipsis">
      前置要求
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#part-1本地环境准备">
<span class="md-ellipsis">
      Part 1：本地环境准备
    </span>
</a>
<nav aria-label="Part 1：本地环境准备" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#git-配置">
<span class="md-ellipsis">
      Git 配置
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#zju-git-源码拉取">
<span class="md-ellipsis">
      ZJU Git 源码拉取
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#安装和使用-docker">
<span class="md-ellipsis">
      安装和使用 Docker
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#使用-docker-compose">
<span class="md-ellipsis">
      使用 Docker Compose
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#使用-ide-拉起-devcontainer">
<span class="md-ellipsis">
      使用 IDE 拉起 DevContainer
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#part-2容器实验环境">
<span class="md-ellipsis">
      Part 2：容器实验环境
    </span>
</a>
<nav aria-label="Part 2：容器实验环境" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#源代码管理">
<span class="md-ellipsis">
      源代码管理
    </span>
</a>
<nav aria-label="源代码管理" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#vscode-git-插件">
<span class="md-ellipsis">
      VSCode Git 插件
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#git-submodule">
<span class="md-ellipsis">
      Git Submodule
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#git-merge-与-rebase">
<span class="md-ellipsis">
      Git Merge 与 Rebase
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#本课程的-git-工作流">
<span class="md-ellipsis">
      本课程的 Git 工作流
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#开发">
<span class="md-ellipsis">
      开发
    </span>
</a>
<nav aria-label="开发" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#clangd">
<span class="md-ellipsis">
      Clangd
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#构建和运行">
<span class="md-ellipsis">
      构建和运行
    </span>
</a>
<nav aria-label="构建和运行" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#makefile">
<span class="md-ellipsis">
      Makefile
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#qemu">
<span class="md-ellipsis">
      QEMU
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#调试">
<span class="md-ellipsis">
      调试
    </span>
</a>
<nav aria-label="调试" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#gdb">
<span class="md-ellipsis">
      GDB
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vscode-调试器">
<span class="md-ellipsis">
      VSCode 调试器
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#本地评测">
<span class="md-ellipsis">
      本地评测
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/ZJU-OS/doc/blob/main/docs/manual.md" rel="edit" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
</a>
<h1 id="实验流程及工具讲解">实验流程及工具讲解<a class="headerlink" href="#实验流程及工具讲解" title="Permanent link">¶</a></h1><p style="color:#bdbdbd"><i>Estimated time to read: 9 minutes</i></p>

<div class="admonition quote">
<p class="admonition-title">Quote</p>
<p></p><div align="center" style="font-size:32px;">
    工欲善其事，必先利其器。
</div><p></p>
</div>
<p>在计算机专业的学习中，这句古话同样适用。遗憾的是，许多同学在面对 Git、Linux、Docker、GDB、VSCode 等工具时，往往缺乏系统的了解与实践经验。理论课教会了我们操作系统的核心原理，但在实践环节，许多人却被这些基础工具绊住了脚步。</p>
<p><strong>然而，这些工具不仅仅是完成实验的必需品，更将伴随你整个职业生涯</strong>——无论是做科研、实习还是未来的工程工作，都会频繁地与它们打交道。掌握它们，就像为未来打开了一把万能钥匙。</p>
<p>为了帮助大家更顺利地完成《操作系统》课程的实验，也让你们能更自信地迈向后续的学习与工作，我整理了本篇文档，对实验所需的工具进行详细的讲解与串联，涵盖从环境搭建到调试的完整流程。同时，我还为这篇文章录制了配套的讲解视频，方便大家边看边操作，循序渐进地掌握每一个环节。</p>
<div class="admonition note">
<p></p><div style="position: relative; width: 100%; padding-bottom: 56.25%; height: 0; overflow: hidden;">
<iframe allowfullscreen="true" frameborder="no" scrolling="no" src="//player.bilibili.com/player.html?isOutside=true&amp;aid=115316902334483&amp;bvid=BV1jfxbzdEGj&amp;cid=32842711718&amp;p=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div><p></p>
</div>
<h2 id="实验流程概览">实验流程概览<a class="headerlink" href="#实验流程概览" title="Permanent link">¶</a></h2>
<p>在正式开始实验之前，我们需要先理清整个开发与调试的流程。操作系统实验大致分为两个阶段：</p>
<ol>
<li>
<p><strong>本地环境准备</strong>：在自己的电脑上完成 Git 配置、源码拉取以及安装 Docker 容器平台。这一阶段的目标是确保大家能在本地顺利启动课程提供的统一实验环境，避免因为不同操作系统、依赖版本等差异导致的<strong>环境问题</strong>。</p>
</li>
<li>
<p><strong>在容器环境中实验</strong>：通过 IDE 提供的 DevContainer 功能进入容器环境，在里面完成代码的编写、构建、运行、调试、评测，最后提交到远端进行最终测试。容器环境免去了环境配置的烦恼，确保所有同学的环境一致，专注于实验本身。</p>
</li>
</ol>
<p>下图展示了整个实验的流程：</p>
<pre class="mermaid"><code>---
config:
    layout: elk
---
flowchart LR
    subgraph Linux/macOS 环境
        A1["配置 Git"]
        A2["拉取源码"]
        A3["配置 Docker"]
        A4["VSCode 启动 DevContainer"]
        A1 --&gt; A2 --&gt; A3 --&gt; A4
    end

    subgraph DevContainer
        B1["开发"]
        B2["构建&lt;br&gt;make"]
        B3["运行&lt;br&gt;make run"]
        B4["调试&lt;br&gt;make debug"]
        B5["本地评测&lt;br&gt;make judge"]
        B6["提交代码&lt;br&gt;git commit"]
        B7["合并下一个实验代码&lt;br&gt;git merge/rebase"]
        B1 --&gt; B2 --&gt; B3
        B3 -- "有问题" --&gt; B4
        B4 --&gt; B1
        B3 -- "没问题" --&gt; B5
        B5 -- "通过" --&gt; B6
        B6 --&gt; B7 --&gt; B1
    end

    subgraph ZJU Git
        C1["远端评测"]
    end

    A4 --&gt; B1
    B6 -- "推送代码&lt;br&gt;git push" --&gt; C1</code></pre>
<p>在接下来的章节中，我们会逐步介绍如何完成上述每个步骤，包括必要的命令、配置方法以及常见问题的解决方案，帮助大家顺利完成从环境搭建到实验提交的完整闭环。</p>
<h2 id="前置要求">前置要求<a class="headerlink" href="#前置要求" title="Permanent link">¶</a></h2>
<p>在正式开始之前，我们默认大家已经具备以下基础技能（基于实验课前的调查问卷）：</p>
<ul>
<li><strong>拥有 Linux 或 macOS 环境</strong>，并能完成基本的 Linux 命令行操作</li>
<li><strong>了解 Git 和 Makefile 的基本用法</strong></li>
</ul>
<p>由于篇幅限制，本文无法从「如何安装 Linux」或「如何使用 Git」这样的零基础话题讲起。如果你对其中的某些内容还不太熟悉，不必担心，我们已经为你准备了补充学习资源：</p>
<ul>
<li><strong>从未使用过 Git</strong>：建议观看 <a href="https://www.bilibili.com/video/BV1HM411377j/"><span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.813 4.653h.854q2.266.08 3.773 1.574Q23.946 7.72 24 9.987v7.36q-.054 2.266-1.56 3.773c-1.506 1.507-2.262 1.524-3.773 1.56H5.333q-2.266-.054-3.773-1.56C.053 19.614.036 18.858 0 17.347v-7.36q.054-2.267 1.56-3.76t3.773-1.574h.774l-1.174-1.12a1.23 1.23 0 0 1-.373-.906q0-.534.373-.907l.027-.027q.4-.373.92-.373t.92.373L9.653 4.44q.107.106.187.213h4.267a.8.8 0 0 1 .16-.213l2.853-2.747q.4-.373.92-.373c.347 0 .662.151.929.4s.391.551.391.907q0 .532-.373.906zM5.333 7.24q-1.12.027-1.88.773-.76.748-.786 1.894v7.52q.026 1.146.786 1.893t1.88.773h13.334q1.12-.026 1.88-.773t.786-1.893v-7.52q-.026-1.147-.786-1.894t-1.88-.773zM8 11.107q.56 0 .933.373.375.374.4.96v1.173q-.025.586-.4.96-.373.375-.933.374c-.56-.001-.684-.125-.933-.374q-.375-.373-.4-.96V12.44q0-.56.386-.947.387-.386.947-.386m8 0q.56 0 .933.373.375.374.4.96v1.173q-.025.586-.4.96-.373.375-.933.374c-.56-.001-.684-.125-.933-.374q-.375-.373-.4-.96V12.44q.025-.586.4-.96.373-.373.933-.373"></path></svg></span>【GeekHour】一小时Git教程</a>，快速掌握版本控制的基本操作。</li>
<li><strong>对 Makefile 完全陌生</strong>：推荐 <a href="https://www.bilibili.com/video/BV1tyWWeeEpp"><span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.813 4.653h.854q2.266.08 3.773 1.574Q23.946 7.72 24 9.987v7.36q-.054 2.266-1.56 3.773c-1.506 1.507-2.262 1.524-3.773 1.56H5.333q-2.266-.054-3.773-1.56C.053 19.614.036 18.858 0 17.347v-7.36q.054-2.267 1.56-3.76t3.773-1.574h.774l-1.174-1.12a1.23 1.23 0 0 1-.373-.906q0-.534.373-.907l.027-.027q.4-.373.92-.373t.92.373L9.653 4.44q.107.106.187.213h4.267a.8.8 0 0 1 .16-.213l2.853-2.747q.4-.373.92-.373c.347 0 .662.151.929.4s.391.551.391.907q0 .532-.373.906zM5.333 7.24q-1.12.027-1.88.773-.76.748-.786 1.894v7.52q.026 1.146.786 1.893t1.88.773h13.334q1.12-.026 1.88-.773t.786-1.893v-7.52q-.026-1.147-.786-1.894t-1.88-.773zM8 11.107q.56 0 .933.373.375.374.4.96v1.173q-.025.586-.4.96-.373.375-.933.374c-.56-.001-.684-.125-.933-.374q-.375-.373-.4-.96V12.44q0-.56.386-.947.387-.386.947-.386m8 0q.56 0 .933.373.375.374.4.96v1.173q-.025.586-.4.96-.373.375-.933.374c-.56-.001-.684-.125-.933-.374q-.375-.373-.4-.96V12.44q.025-.586.4-.96.373-.373.933-.373"></path></svg></span>【GeekHour】20分钟Makefile光速入门教程</a>，帮助你理解实验中会用到的核心命令。</li>
<li>
<p><strong>没有 Linux/macOS 环境</strong>：</p>
<ul>
<li><strong>在 Windows 上安装 WSL（官方推荐）</strong>：参考 <a href="https://learn.microsoft.com/en-us/windows/wsl/install">安装 WSL</a>，在 Windows 上搭建类 Unix 开发环境。</li>
<li><strong>使用虚拟机安装 Linux</strong>：如 VMware 或 VirtualBox，适合希望完整体验 Linux 系统的同学。</li>
</ul>
</li>
</ul>
<p>如果你不具备实验条件，可以联系助教申请实验机。</p>
<h2 id="part-1本地环境准备">Part 1：本地环境准备<a class="headerlink" href="#part-1本地环境准备" title="Permanent link">¶</a></h2>
<p>接下来的内容假设你已经有一个 Linux 或 macOS 环境。<strong>WSL 用户请在 WSL 中操作。</strong></p>
<div class="admonition failure">
<p class="admonition-title">WSL 用户不要将代码存放在 Windows 目录下</p>
<p>WSL 用户应该了解：<strong>Linux 和 Windows 的文件系统不同，文件权限、<a href="https://stackoverflow.com/questions/1552749/difference-between-cr-lf-lf-and-cr-line-break-types">换行符</a>、链接、<a href="https://stackoverflow.com/questions/33998669/windows-ntfs-and-case-sensitivity">大小写</a>等方面都存在区别。</strong></p>
<p>虽然 WSL 将 Windows 目录挂载到了 <code>/mnt/c</code> 等路径下，但这只是为了方便文件互访。官方并不建议你将文件<strong>存放</strong>在一边，又在另一边<strong>使用</strong>。首先性能较低，其次代码仓库等对文件权限、链接等有要求的项目很容易出问题。</p>
<p>请 WSL 用户在 WSL 原生的文件系统中（比如 <code>/home/&lt;username&gt;/</code>）存放实验文件，以避免出现各种奇怪的问题。</p>
</div>
<h3 id="git-配置">Git 配置<a class="headerlink" href="#git-配置" title="Permanent link">¶</a></h3>
<p>如果你已经使用过 Git，通常会完成以下配置步骤：</p>
<ul>
<li><strong>配置 SSH 密钥：</strong> 用于安全地拉取和推送代码。你需要在本地生成 SSH 密钥对，并将公钥添加到 Git 平台。密钥文件默认保存在 <code>~/.ssh</code> 目录下。</li>
<li>
<p><strong>设置 Git 用户信息：</strong> 为了正确记录提交历史，需要配置用户名和邮箱。这些信息会保存在 <code>~/.gitconfig</code> 文件中。</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span><span class="s2">"Your Name"</span>
</span><span id="__span-0-2"><a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span><span class="s2">"username@example.com"</span>
</span></code></pre></div>
</li>
</ul>
<p>如果你对这些操作没有印象，请观看上文提供的学习资源。</p>
<details class="question">
<summary>FAQ：Git 用户名和邮箱如何配置？</summary>
<p>其实设成什么都没关系，因为仓库的地址确定，助教会去对应的仓库看你的提交。</p>
<p>Git 平台（如 GitHub、GitLab、ZJU Git）会根据你 commit 中的邮箱来关联到你的账号，从而显示头像等信息。如果你想让 commit 显示正确的头像，可以将 <code>user.email</code> 设置成你在 ZJU Git 上绑定的邮箱。</p>
</details>
<div class="admonition success">
<p class="admonition-title">完成条件</p>
<p>Linux/macOS 环境中存在以下内容：</p>
<ul>
<li><code>~/.gitconfig</code> 文件</li>
<li><code>~/.ssh</code> 文件夹，其中存放了 SSH 密钥对</li>
</ul>
<p>这些内容接下来会被容器用到，请务必确保它们存在。</p>
</div>
<h3 id="zju-git-源码拉取">ZJU Git 源码拉取<a class="headerlink" href="#zju-git-源码拉取" title="Permanent link">¶</a></h3>
<p>本课程使用 <a href="https://git.zju.edu.cn/">ZJU Git</a> 作为统一的代码管理平台。每位同学都需在指定仓库提交代码并完成评测。首次使用请前往<a href="https://git.zju.edu.cn/users/sign_in">登录界面</a>注册账号。</p>
<div class="admonition info">
<p class="admonition-title">ZJU Git 使用须知</p>
<p>关于 ZJU Git 的网络，同学们需要知晓：</p>
<ul>
<li>ZJU Git 目前仅面向校内服务，<strong>仅校内 DNS 有解析记录</strong>。如果使用校外 DNS 或校外网络，则无法访问 ZJU Git。</li>
<li>为了保障网络安全，学校信息中心封禁了 RVPN 的 22 端口，因此仅能访问 ZJU Git 网页，无法使用命令行 Git 以 SSH 方式连接。</li>
<li><strong>为此，ZJU Git 开放了 2222 端口供 RVPN 用户以 SSH 方式使用。</strong>有校外网络需求的同学请注意这一点，将链接替换为 <code>ssh://git.zju.edu.cn:2222/...</code>。</li>
</ul>
</div>
<p>助教已为每位同学分配了私有仓库，请使用以下命令将仓库克隆到本地：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-1-1"><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a>git<span class="w"> </span>clone<span class="w"> </span>git@git.zju.edu.cn:os/&lt;学期&gt;/&lt;教学班&gt;/os-&lt;你的学号&gt;.git
</span></code></pre></div>
<details class="question">
<summary>FAQ：克隆仓库时出错</summary>
<p>同学们的网络、SSH 和 Git 配置非常多样，导致的错误也非常多样。请根据具体错误信息进行排查。</p>
<details class="question">
<summary>Failed ... via ... after ...ms</summary>
<ul>
<li>
<p>现象：</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-2-1"><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="go">Failed to connect to git.zju.edu.cn port 443 via 127.0.0.1 after 0 ms: Could not connect to server</span>
</span></code></pre></div>
</li>
<li>
<p>原因：</p>
<p><code>via 127.0.0.1</code> 表明 Git 试图通过本地代理连接到 ZJU Git，但连接失败。请检查你的代理设置。</p>
<p>代理设置除了环境变量（如 <code>http_proxy</code>、<code>https_proxy</code>）外，还可能存在于 Git 配置中，运行 <code>git config --list</code> 检查是否有错误的配置。</p>
</li>
<li>
<p>解决办法：</p>
<p>删去相关错误配置，或者正确设置代理。</p>
</li>
</ul>
</details>
<details class="question">
<summary>Connection timed out</summary>
<ul>
<li>
<p>现象：</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="go">ssh: connect to host git.zju.edu.cn port 22: Connection timed out</span>
</span></code></pre></div>
</li>
<li>
<p>原因：</p>
<p>如上文所述，这种情况一般出现在使用 RVPN 的同学。</p>
</li>
<li>
<p>解决办法：</p>
<p>修改 Git 链接使用 2222 端口：</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-4-1"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="go">git clone ssh://git.zju.edu.cn:2222/os/&lt;学期&gt;/&lt;教学班&gt;/os-&lt;你的学号&gt;.git</span>
</span></code></pre></div>
</li>
</ul>
</details>
<details class="question">
<summary>Could not resolve hostname git.zju.edu.cn</summary>
<ul>
<li>
<p>现象：</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-5-1"><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="go">ssh: Could not resolve hostname git.zju.edu.cn: nodename nor servname provided, or not known</span>
</span><span id="__span-5-2"><a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="go">fatal: Could not read from remote repository.</span>
</span></code></pre></div>
</li>
<li>
<p>原因：</p>
<p>ZJU Git 仅面向校内服务，<strong>仅校内 DNS 有解析记录</strong>。部分同学手动将 DNS 设置为其他服务器，导致 ZJU Git 无法解析。</p>
</li>
<li>
<p>解决办法：</p>
<p>如果你在校内，将 DNS 设置为自动获取，或者手动设置为浙大校园网 DNS。</p>
</li>
</ul>
</details>
<details class="question">
<summary>not a valid repository name</summary>
<ul>
<li>
<p>现象：</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-6-1"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="go">git clone git@git.zju.edu.cn:...</span>
</span><span id="__span-6-2"><a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="go">fatal: remote error:</span>
</span><span id="__span-6-3"><a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="go">... is not a valid repository name</span>
</span><span id="__span-6-4"><a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="go">Visit https://support.github.com/ for help</span>
</span></code></pre></div>
</li>
<li>
<p>原因：</p>
<p>从报错可以看到是 GitHub 返回的错误，但所给的链接为 ZJU Git。这一般是 Git 配置错误导致的，运行 <code>git config --list</code> 检查是否有错误的配置。</p>
<p>目前发现有错误配置如下：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a>core.sshcommand=ssh -T -p 443 -o Hostname=ssh.github.com
</span></code></pre></div>
</li>
<li>
<p>解决办法：</p>
<p>删除相关错误配置：</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-8-1"><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="go">git config --global --unset core.sshcommand</span>
</span></code></pre></div>
</li>
</ul>
</details>
</details>
<div class="admonition success">
<p class="admonition-title">完成条件</p>
<ul>
<li>成功将代码库克隆到 Linux/macOS 环境中。</li>
<li>用 VSCode 打开代码库目录，接下来的操作可在 VSCode 终端中完成。</li>
</ul>
</div>
<h3 id="安装和使用-docker">安装和使用 Docker<a class="headerlink" href="#安装和使用-docker" title="Permanent link">¶</a></h3>
<div class="admonition info">
<p class="admonition-title">Docker 基本概念</p>
<ul>
<li><strong>容器</strong>是一种轻量级的虚拟化技术，<strong>Docker</strong> 是一个容器平台。容器和虚拟机都能够将应用程序及其依赖打包在一个独立的环境中运行，与宿主机隔离开来。区别在于，虚拟机需要完整的操作系统，而容器只需要包含应用程序及其依赖，<strong>利用宿主机的内核来运行</strong>，因此更加轻量和高效。</li>
<li>助教将所需的环境打包成一个<strong>容器镜像（image）</strong>，存放到 ZJUGit 容器<strong>注册表（registry）</strong>。同学们从 Registry <strong>拉取（pull）</strong> 镜像，然后基于该镜像创建并启动一个<strong>容器（container）</strong>。</li>
</ul>
<p>这为我们带来了以下好处：</p>
<ul>
<li><strong>简单</strong>：<ul>
<li>同学们不用手动配环境了，只需要配 Docker。</li>
<li>环境搞坏了就删掉重建一个新的，非常方便。</li>
</ul>
</li>
<li><strong>隔离</strong>：环境和宿主机隔离，不会彼此影响和污染。</li>
<li><strong>一致</strong>：所有人的环境都是从同一个镜像创建的，避免了绝大多数“在我电脑上能跑”的问题。</li>
</ul>
</div>
<p>本文仅会介绍实验中必要的 Docker 操作。如果你想学习更多，可以观看 <a href="https://www.bilibili.com/video/BV14s4y1i7Vf"><span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.813 4.653h.854q2.266.08 3.773 1.574Q23.946 7.72 24 9.987v7.36q-.054 2.266-1.56 3.773c-1.506 1.507-2.262 1.524-3.773 1.56H5.333q-2.266-.054-3.773-1.56C.053 19.614.036 18.858 0 17.347v-7.36q.054-2.267 1.56-3.76t3.773-1.574h.774l-1.174-1.12a1.23 1.23 0 0 1-.373-.906q0-.534.373-.907l.027-.027q.4-.373.92-.373t.92.373L9.653 4.44q.107.106.187.213h4.267a.8.8 0 0 1 .16-.213l2.853-2.747q.4-.373.92-.373c.347 0 .662.151.929.4s.391.551.391.907q0 .532-.373.906zM5.333 7.24q-1.12.027-1.88.773-.76.748-.786 1.894v7.52q.026 1.146.786 1.893t1.88.773h13.334q1.12-.026 1.88-.773t.786-1.893v-7.52q-.026-1.147-.786-1.894t-1.88-.773zM8 11.107q.56 0 .933.373.375.374.4.96v1.173q-.025.586-.4.96-.373.375-.933.374c-.56-.001-.684-.125-.933-.374q-.375-.373-.4-.96V12.44q0-.56.386-.947.387-.386.947-.386m8 0q.56 0 .933.373.375.374.4.96v1.173q-.025.586-.4.96-.373.375-.933.374c-.56-.001-.684-.125-.933-.374q-.375-.373-.4-.96V12.44q.025-.586.4-.96.373-.373.933-.373"></path></svg></span>【GeekHour】30分钟Docker入门教程</a>。</p>
<p>让我们从<strong>安装 Docker</strong> 开始：</p>
<ul>
<li>Linux 和 WSL 环境请参考 <a href="https://mirrors.zju.edu.cn/docs/docker-ce/">Docker CE | ZJU Mirror</a></li>
<li>macOS 推荐使用 <a href="https://docs.docker.com/desktop/setup/install/mac-install/">Docker Desktop</a> 或 <a href="https://orbstack.dev/download">OrbStack</a> (可以用 <a href="https://formulae.brew.sh/formula/docker">Homebrew</a> 直接安装)</li>
</ul>
<p>成功安装并启动 Docker 后，可以运行 <code>docker info</code> 来检查 Docker 是否能正常工作。</p>
<details class="question">
<summary>FAQ：Cannot connect to the Docker daemon</summary>
<ul>
<li>
<p>现象：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a>Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?
</span></code></pre></div>
</li>
<li>
<p>原因：</p>
<p>Docker 的工作原理是客户端-服务器模式。在终端中执行的是 Docker CLI 客户端，它需要连接到服务器即 Docker Daemon（守护进程）来完成实际的工作，比如拉取、启动容器等。错误信息表明 Docker Daemon 没有启动。</p>
<p>该问题常见于在 WSL 中初次安装 Docker Engine 的场景，此时 Docker Daemon 可能尚未自动启动。</p>
</li>
<li>
<p>解决办法：</p>
<ul>
<li>
<p>Linux：</p>
<p>在现代 Linux 发行版中，一般使用 <a href="https://www.freedesktop.org/wiki/Software/systemd/">systemd</a> 来管理系统服务。其中，<code>systemctl</code> 用于管理服务，<code>journalctl</code> 用于管理日志。</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-10-1"><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="c1"># 检查 Docker 服务状态</span>
</span><span id="__span-10-2"><a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>docker
</span><span id="__span-10-3"><a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="c1"># 如果输出不是 active (running)，则启动 Docker 服务</span>
</span><span id="__span-10-4"><a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>--now<span class="w"> </span>docker
</span><span id="__span-10-5"><a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="c1"># 如果输出是其他状态（如 failed），可以将日志信息喂给 AI 寻求帮助</span>
</span><span id="__span-10-6"><a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a>sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>docker<span class="w"> </span>--no-pager<span class="w"> </span><span class="p">|</span><span class="w"> </span>tail<span class="w"> </span>-n<span class="w"> </span><span class="m">50</span>
</span></code></pre></div>
</li>
<li>
<p>WSL：</p>
<p>如果你运行的是较老版本的 WSL，则 systemd 可能不可用。推荐你按照 <a href="https://learn.microsoft.com/en-us/windows/wsl/systemd">Use systemd to manage Linux services with WSL | Microsoft Learn</a> 的指引升级 WSL 版本，启用 systemd。</p>
<p>如果你不想升级，重启 WSL 应该也能解决问题。在 Windows 终端中执行：</p>
<div class="language-powershell highlight"><pre><span></span><code><span id="__span-11-1"><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">wsl</span> <span class="p">-</span><span class="n">-shutdown</span>
</span></code></pre></div>
<p>然后重新打开 WSL。</p>
</li>
<li>
<p>macOS：</p>
<p>确保你启动了 <a href="https://www.docker.com/products/docker-desktop">Docker Desktop for Mac</a>。</p>
</li>
</ul>
</li>
</ul>
</details>
<p>接下来用课程提供的镜像来练习一些常用的 Docker 命令：</p>
<ul>
<li>
<p><strong>镜像操作</strong>：</p>
<ul>
<li>
<p><strong>拉取镜像</strong>：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-12-1"><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a>docker<span class="w"> </span>pull<span class="w"> </span>git.zju.edu.cn:5050/zju-cs-lab/tool/sys:latest
</span></code></pre></div>
</li>
<li>
<p><strong>查看本地镜像及其摘要（Digest）</strong>：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-13-1"><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a>docker<span class="w"> </span>images<span class="w"> </span>--digests
</span></code></pre></div>
<p>镜像由 <strong>镜像名</strong>（如 <code>git.zju.edu.cn:5050/zju-cs-lab/tool/sys</code>）和 <strong>标签（tag）</strong>（如 <code>:x86_64</code>、<code>:latest</code>）组成。助教会持续更新 <code>:latest</code> 镜像，但 <strong>唯一能保证镜像内容一致的标识是摘要（digest）</strong>（形如 <code>sha256:...</code>）。</p>
<p>如果助教通知了镜像更新，同学们可以检查本地镜像的 digest，如果与 ZJU Git 上的 digest 不同，则说明本地镜像过期，需要重新执行 <code>docker pull</code>。</p>
</li>
<li>
<p><strong>删除镜像</strong>：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-14-1"><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a>docker<span class="w"> </span>rmi<span class="w"> </span>&lt;image_id&gt;
</span></code></pre></div>
</li>
</ul>
</li>
<li>
<p><strong>容器操作</strong>：</p>
<ul>
<li>
<p><strong>启动并进入容器</strong>：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-15-1"><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>git.zju.edu.cn:5050/zju-cs-lab/tool/sys:latest<span class="w"> </span>fish
</span><span id="__span-15-2"><a href="#__codelineno-15-2" id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="c1"># 命令格式</span>
</span><span id="__span-15-3"><a href="#__codelineno-15-3" id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="c1"># docker run [OPTIONS] IMAGE [COMMAND]</span>
</span></code></pre></div>
<p>这条命令会基于指定镜像创建并启动一个容器，并进入容器内的 fish 终端。</p>
<ul>
<li><code>--rm</code> 表示退出容器后自动删除它。</li>
</ul>
</li>
<li>
<p><strong>进入运行中的容器</strong>：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-16-1"><a href="#__codelineno-16-1" id="__codelineno-16-1" name="__codelineno-16-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>&lt;container_id&gt;<span class="w"> </span>fish
</span></code></pre></div>
<p>这条命令会进入一个已经运行的容器。</p>
</li>
<li>
<p><strong>查看容器</strong>：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-17-1"><a href="#__codelineno-17-1" id="__codelineno-17-1" name="__codelineno-17-1"></a>docker<span class="w"> </span>ps<span class="w"> </span><span class="c1">#正在运行的</span>
</span><span id="__span-17-2"><a href="#__codelineno-17-2" id="__codelineno-17-2" name="__codelineno-17-2"></a>docker<span class="w"> </span>ps<span class="w"> </span>-a<span class="w"> </span><span class="c1">#查看所有容器（包括未运行的）</span>
</span></code></pre></div>
</li>
<li>
<p><strong>停止并删除容器</strong>：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-18-1"><a href="#__codelineno-18-1" id="__codelineno-18-1" name="__codelineno-18-1"></a>docker<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>&lt;container_id&gt;
</span></code></pre></div>
</li>
</ul>
</li>
<li>
<p><strong>其他常用命令</strong>：</p>
<ul>
<li>
<p><strong>清理无用的镜像、容器等</strong>：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-19-1"><a href="#__codelineno-19-1" id="__codelineno-19-1" name="__codelineno-19-1"></a>docker<span class="w"> </span>system<span class="w"> </span>prune
</span></code></pre></div>
</li>
</ul>
</li>
</ul>
<details class="question">
<summary>FAQ：镜像拉取问题</summary>
<details class="question">
<summary>ZJU Git EOF</summary>
<ul>
<li>
<p>现象：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a href="#__codelineno-20-1" id="__codelineno-20-1" name="__codelineno-20-1"></a>Error response from daemon: Get "https://git.zju.edu.cn:5050/v2/": EOF
</span></code></pre></div>
</li>
<li>
<p>原因：</p>
<p>网络问题，Docker Daemon 无法连接到 ZJU Git。这往往是由于代理设置不正确导致的。</p>
<p>使用 Windows Docker Desktop 的同学反映，即使自己关闭了 Clash，代理设置也会残留在 Docker Desktop 中，运行 <code>docker info</code> 可以看到下面的内容：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-21-1"><a href="#__codelineno-21-1" id="__codelineno-21-1" name="__codelineno-21-1"></a>HTTP Proxy: ...
</span><span id="__span-21-2"><a href="#__codelineno-21-2" id="__codelineno-21-2" name="__codelineno-21-2"></a>HTTPS Proxy: ...
</span></code></pre></div>
</li>
<li>
<p>解决办法：</p>
<ul>
<li>Windows Docker Desktop 用户：在 Docker Desktop 设置界面进入 <code>Resources</code> -&gt; <code>Proxies</code>，打开 <code>Manual proxy configuration</code>，将所有代理设置留空，然后点击 <code>Apply</code>，重启 Docker Desktop。</li>
</ul>
</li>
</ul>
</details>
</details>
<div class="admonition success">
<p class="admonition-title">完成条件</p>
<ul>
<li>理解容器和 Docker 是什么。</li>
<li>成功安装 Docker，并能在终端运行 <code>docker info</code>。</li>
<li>掌握 <code>run</code>、<code>ps</code>、<code>rm</code>、<code>pull</code> 等常用 Docker 命令。</li>
</ul>
</div>
<h3 id="使用-docker-compose">使用 Docker Compose<a class="headerlink" href="#使用-docker-compose" title="Permanent link">¶</a></h3>
<p>在日常开发中，如果直接使用 <code>docker run</code> 启动容器，命令可能会非常冗长，需要手动指定镜像、端口、挂载、环境变量等参数，既不直观，也不方便维护。以本课程的实验环境为例，完整的 <code>docker run</code> 命令如下：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-22-1"><a href="#__codelineno-22-1" id="__codelineno-22-1" name="__codelineno-22-1"></a>docker<span class="w"> </span>run<span class="w"> </span>-dit<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-2"><a href="#__codelineno-22-2" id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="w">    </span>--name<span class="w"> </span>zju-os-code<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-3"><a href="#__codelineno-22-3" id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="w">    </span>--hostname<span class="w"> </span>zju-os<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-4"><a href="#__codelineno-22-4" id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="w">    </span>-v<span class="w"> </span><span class="s2">"</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">"</span>:/zju-os/code<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-5"><a href="#__codelineno-22-5" id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="w">    </span>-v<span class="w"> </span>~/.gitconfig:/root/.gitconfig:ro<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-6"><a href="#__codelineno-22-6" id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="w">    </span>-v<span class="w"> </span>~/.ssh:/mnt/host_ssh:ro<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-7"><a href="#__codelineno-22-7" id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="w">    </span>-w<span class="w"> </span>/zju-os/code<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-8"><a href="#__codelineno-22-8" id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">UV_LINK_MODE</span><span class="o">=</span>copy<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-9"><a href="#__codelineno-22-9" id="__codelineno-22-9" name="__codelineno-22-9"></a><span class="w">    </span>-e<span class="w"> </span><span class="nv">TZ</span><span class="o">=</span>Asia/Shanghai<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-10"><a href="#__codelineno-22-10" id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="w">    </span>--init<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-11"><a href="#__codelineno-22-11" id="__codelineno-22-11" name="__codelineno-22-11"></a><span class="w">    </span>git.zju.edu.cn:5050/zju-cs-lab/tool/sys:latest<span class="w"> </span><span class="se">\</span>
</span><span id="__span-22-12"><a href="#__codelineno-22-12" id="__codelineno-22-12" name="__codelineno-22-12"></a><span class="w">    </span>sleep<span class="w"> </span>infinity
</span></code></pre></div>
<p><strong>Docker Compose</strong> 提供了一种更简单的方式：只需在一个 <code>compose.yml</code> 文件里定义好服务、镜像和配置，之后用一条 <code>docker compose up</code> 命令就能启动整个开发环境。</p>
<p>在我们的仓库中，已经为大家准备好了 <code>compose.yml</code>，里面定义了容器的运行方式和一些必要的配置。<strong>下面是一些重要的配置点，同学们需要知悉</strong>：</p>
<ol>
<li>
<p><strong>代码挂载</strong></p>
<p>代码库会被<strong>挂载（mount）</strong>到容器内的 <code>/zju-os/code</code> 目录下。
这意味着：</p>
<ul>
<li>宿主机和容器<strong>共享同一套代码文件</strong>，修改会实时同步。</li>
<li>代码文件实际仍保存在宿主机上，<strong>删除容器不会导致代码丢失</strong>。</li>
</ul>
<p>这样做的好处是，大家在容器内开发时，无需担心数据持久化问题，调试体验和本地几乎一样。</p>
</li>
<li>
<p><strong>用户与文件权限</strong></p>
<p>容器内默认用户是 <strong><code>root</code></strong>，而宿主机上你一般是普通用户。
当你在容器内生成文件（比如编译产物）时，这些文件在宿主机上会显示为 <code>root</code> 所有，这可能会导致你在宿主机直接编辑或删除文件时遇到<strong>权限不足</strong>的问题。</p>
<p>解决方法：在宿主机执行以下命令，把文件的所有者改回普通用户：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-23-1"><a href="#__codelineno-23-1" id="__codelineno-23-1" name="__codelineno-23-1"></a>sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>&lt;username&gt;:&lt;username&gt;<span class="w"> </span>.
</span></code></pre></div>
<p>请将 <code>&lt;username&gt;</code> 替换为你在宿主机上的用户名。</p>
</li>
<li>
<p><strong>Git 和 SSH 配置映射</strong></p>
<p>特别地，执行一些 Git 操作也会产生文件，因此会产生这样的情况：在容器内执行 Git 操作后，在宿主机执行 Git 操作遇到 Permission Denied。<strong>所以我们将宿主机的 Git 和 SSH 配置映射到容器内，这样同学们的开发、Git 操作都在容器内进行，不用回到宿主机了。</strong></p>
<p>为此，我们在 <code>compose.yml</code> 中做了以下处理：</p>
<ul>
<li>将宿主机的 <code>~/.gitconfig</code> 和 <code>~/.ssh</code> 挂载到容器内。</li>
</ul>
<p>这需要你确保你在宿主机上已经配置好 Git 用户信息和 SSH Key（见前文）。</p>
</li>
</ol>
<p>同学们也需要了解一些常用的 Docker Compose 命令：</p>
<ul>
<li>
<p><strong>启动并进入容器</strong>：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-24-1"><a href="#__codelineno-24-1" id="__codelineno-24-1" name="__codelineno-24-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>-d
</span><span id="__span-24-2"><a href="#__codelineno-24-2" id="__codelineno-24-2" name="__codelineno-24-2"></a>docker<span class="w"> </span>compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>zju-os-code<span class="w"> </span>fish
</span></code></pre></div>
<p>这两条命令会启动容器，并进入容器内的 fish 终端。</p>
<ul>
<li><code>-d</code> 表示后台运行容器。</li>
<li><code>zju-os-code</code> 是 <code>compose.yml</code> 中定义的服务名。</li>
</ul>
</li>
<li>
<p><strong>停止并删除容器</strong>：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-25-1"><a href="#__codelineno-25-1" id="__codelineno-25-1" name="__codelineno-25-1"></a>docker<span class="w"> </span>compose<span class="w"> </span>down
</span></code></pre></div>
</li>
</ul>
<div class="admonition success">
<p class="admonition-title">完成条件</p>
<ul>
<li>成功安装 Docker Compose，并能在终端运行 <code>docker compose version</code>。</li>
</ul>
</div>
<p>进一步地，课程仓库根目录下的 <code>Makefile</code> 将常用操作包装为 Make 目标，方便运行。它会检测当前环境是否存在 <code>docker</code> 命令，如果存在就认为是宿主机，否则认为是在容器内运行。不同环境下的目标有所不同：</p>
<ul>
<li><strong>在宿主机上</strong><ul>
<li>（默认目标）<code>all</code>：创建、启动并进入容器</li>
<li><code>clean</code>：删除容器</li>
<li><code>update</code>：删除并更新容器镜像</li>
</ul>
</li>
<li><strong>在容器内</strong><ul>
<li><code>all</code>：<code>clean</code> 并构建内核</li>
<li><code>clean</code>：清理构建产物</li>
<li><code>run</code>：使用 QEMU 运行内核</li>
<li><code>debug</code>：使用 QEMU 运行内核（调试）</li>
<li><code>gdb</code>：启动 GDB 并连接到 QEMU（与 <code>debug</code> 配合使用）</li>
<li><code>judge</code>：运行评测</li>
<li><code>format</code>：格式化代码，请在提交代码前运行</li>
</ul>
</li>
</ul>
<h3 id="使用-ide-拉起-devcontainer">使用 IDE 拉起 DevContainer<a class="headerlink" href="#使用-ide-拉起-devcontainer" title="Permanent link">¶</a></h3>
<p><a href="https://containers.dev/">Development containers</a> 是一个由 Microsoft 开源的项目，旨在通过 <code>devcontainer.json</code> 文件定义和配置开发容器环境。它与 Docker Compose 类似，但不用于命令行，而是专注于<strong>开发环境的配置和集成</strong>，目前 VSCode、CLion 等 IDE 都支持它。</p>
<p>在我们的仓库中，已经为大家准备好了 <code>.devcontainer/devcontainer.json</code> 文件。它会使用上一节介绍的 <code>compose.yml</code> 拉起容器环境，并自动为 IDE 执行各项配置。</p>
<p>非 VSCode 用户请自行查看对应 IDE 的文档：</p>
<ul>
<li><a href="https://www.jetbrains.com/help/clion/dev-containers-starting-page.html">Dev Containers | CLion Documentation</a></li>
<li><a href="https://containers.dev/supporting">Supporting tools and services | DevContainers</a></li>
</ul>
<p>下面以 VSCode 为例介绍使用流程。</p>
<ul>
<li>VSCode 安装 <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers">Dev Containers 插件</a></li>
<li><mark class="critic">VSCode 打开实验仓库</mark></li>
<li>
<p>右下角可能会出现<strong>开发容器（Dev Container）相关的弹窗</strong>，点击在开发容器中打开</p>
<p>如果没有弹窗，则按 <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-shift">Shift</kbd><span>+</span><kbd class="key-p">P</kbd></span> 打开命令窗口，输入 <code>reopen</code> 找到 <code>Dev Containers: Reopen in Container</code> 选项，选择它</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>VSCode 是从当前打开的文件夹找 <code>.devcontainer</code> 的，所以请确保 VSCode 当前打开了实验仓库的根目录。</p>
<p>如果选择 <code>Reopen in Container</code> 后 VSCode 弹出了选择容器之类的窗口，说明你没有打开正确的目录。请尝试关闭 VSCode 重新打开。</p>
</div>
</li>
<li>
<p>VSCode 将重载窗口，启动并连接到容器，自动完成插件安装等配置步骤</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>右下角应该会有弹窗表示开发容器正在启动，你可以点击查看日志了解启动进度。</p>
<p>如果没有你执行前述的 <code>docker pull</code> 等操作，那么 DevContainer 会拉取镜像。实验镜像比较大（约 10G），你可以结合自己的网速评估一下需要的拉取时间，耐心等待。</p>
</div>
</li>
</ul>
<h2 id="part-2容器实验环境">Part 2：容器实验环境<a class="headerlink" href="#part-2容器实验环境" title="Permanent link">¶</a></h2>
<p>现在你应该已经使用 IDE 进入了 DevContainer 环境，接下来的操作都在容器内进行。</p>
<h3 id="源代码管理">源代码管理<a class="headerlink" href="#源代码管理" title="Permanent link">¶</a></h3>
<p>本文档仅会介绍实验中必要的 Git 知识。如果你想深入学习 Git，可以阅读这本官方教程：英文版 <a href="https://git-scm.com/book/en/">Git</a>、中文版 <a href="https://www.progit.cn/">Pro Git 中文版（第二版）</a>。</p>
<h4 id="vscode-git-插件">VSCode Git 插件<a class="headerlink" href="#vscode-git-插件" title="Permanent link">¶</a></h4>
<p>推荐使用 VSCode 内置的 Git（源代码管理面板）进行相关操作，官方文档见 <a href="https://code.visualstudio.com/docs/sourcecontrol/overview">Using Git source control in VS Code</a>。</p>
<p>此外，你还可以安装 <a href="https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph">Git Graph</a> 插件来可视化地查看分支、提交等信息，进行 Git 操作。</p>
<h4 id="git-submodule">Git Submodule<a class="headerlink" href="#git-submodule" title="Permanent link">¶</a></h4>
<p>实验评测框架作为 Git Submodule 放置在课程代码仓库的 <code>autograder</code> 目录下，所以同学们需要了解 Submodule 的基本使用方法，详见官方教程 <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">Git - Submodules</a>。简单来说：</p>
<ul>
<li>Submodule 中内容作为一个独立的 Git 仓库管理，父仓库只记录 Submodule 的某个提交 ID。</li>
<li>
<p><code>git clone</code> 后还需要运行下面的命令来初始化并更新 Submodule：</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-26-1"><a href="#__codelineno-26-1" id="__codelineno-26-1" name="__codelineno-26-1"></a>git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--init<span class="w"> </span>--recursive
</span></code></pre></div>
</li>
</ul>
<h4 id="git-merge-与-rebase">Git Merge 与 Rebase<a class="headerlink" href="#git-merge-与-rebase" title="Permanent link">¶</a></h4>
<p>在实验过程中，你需要不断地将上游的实验代码合并到自己的分支中。常见的做法有两种：<strong>Merge</strong> 和 <strong>Rebase</strong>。</p>
<ul>
<li>
<p><strong>Merge</strong>：将上游分支的最新提交合并到当前分支，保留两条分支的历史记录，形成一个新的合并提交。</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-27-1"><a href="#__codelineno-27-1" id="__codelineno-27-1" name="__codelineno-27-1"></a>git<span class="w"> </span>merge<span class="w"> </span>upstream/labN
</span></code></pre></div>
</li>
<li>
<p><strong>Rebase</strong>：将当前分支的提交“搬运”到上游分支的最新提交之后，形成一条线性的提交历史。</p>
<div class="language-shell highlight"><pre><span></span><code><span id="__span-28-1"><a href="#__codelineno-28-1" id="__codelineno-28-1" name="__codelineno-28-1"></a>git<span class="w"> </span>rebase<span class="w"> </span>upstream/labN
</span></code></pre></div>
</li>
</ul>
<h4 id="本课程的-git-工作流">本课程的 Git 工作流<a class="headerlink" href="#本课程的-git-工作流" title="Permanent link">¶</a></h4>
<p>实验过程涉及两个仓库：</p>
<ul>
<li><strong>公开发布仓库：</strong> <code>https://git.zju.edu.cn/os/code.git</code><ul>
<li><code>lab0</code>、<code>lab1</code>、... 分支：各个 Lab 的代码，位于同一个<a href="https://stackoverflow.com/questions/20348629/what-are-the-advantages-of-keeping-linear-history-in-git">线性历史（linear history）</a>上。</li>
</ul>
</li>
<li><strong>学生私有仓库：</strong> <code>git@git.zju.edu.cn:os/&lt;学期&gt;/&lt;教学班&gt;/os-&lt;你的学号&gt;.git</code><ul>
<li><code>lab0</code>、<code>lab1</code>、... 分支：学生提交的代码。这些分支设置了保护策略，禁止强制推送，DDL 截止后无法再向对应分支提交代码，成绩评定以对应分支的代码为准。</li>
<li><code>lab0-makeup</code>、<code>lab1-makeup</code>、... 分支：补交分支，DDL 截止后你可以继续向这些分支提交代码，助教会在期末进行统一评定</li>
</ul>
</li>
</ul>
<p>下图展示了本课程的 Git 工作流和相应命令：</p>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-type="image" data-width="auto" href="../manual.assets/git.drawio"><div class="mxgraph" data-mxgraph='{"toolbar": "zoom", "tooltips": "1", "border": 5, "resize": "1", "edit": "_blank", "highlight": null, "xml": "&lt;mxfile host=\"65bd71144e\"&gt;\n    &lt;diagram id=\"o7M6kcI1u6XlM2kXI7ns\" name=\"Page-1\"&gt;\n        &lt;mxGraphModel dx=\"1193\" dy=\"391\" grid=\"1\" gridSize=\"10\" guides=\"1\" tooltips=\"1\" connect=\"1\" arrows=\"1\" fold=\"1\" page=\"1\" pageScale=\"1\" pageWidth=\"850\" pageHeight=\"1100\" math=\"0\" shadow=\"0\"&gt;\n            &lt;root&gt;\n                &lt;mxCell id=\"0\"/&gt;\n                &lt;mxCell id=\"1\" parent=\"0\"/&gt;\n                &lt;mxCell id=\"2\" value=\"\" style=\"rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=8 8;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"100\" y=\"70\" width=\"370\" height=\"130\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"3\" value=\"git remote&amp;lt;div&amp;gt;\u8fdc\u7a0b\u4ed3\u5e93&amp;lt;/div&amp;gt;\" style=\"text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"250\" y=\"30\" width=\"60\" height=\"30\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"18\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;\" parent=\"1\" source=\"4\" target=\"14\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"4\" value=\"origin\uff08\u5b66\u751f\u79c1\u6709\u4ed3\u5e93\uff09&amp;lt;div&amp;gt;git@git.zju.edu.cn:os/2025/...&amp;lt;/div&amp;gt;\" style=\"rounded=0;whiteSpace=wrap;html=1;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"110\" y=\"130\" width=\"170\" height=\"60\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"17\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;\" parent=\"1\" source=\"5\" target=\"16\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"37\" value=\"&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(108, 142, 191);&amp;quot;&amp;gt;\u2466 git fetch upstream&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(108, 142, 191);&amp;quot;&amp;gt;\u540c\u6b65\u4e0a\u6e38&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=#6c8ebf;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=#6C8EBF;labelBackgroundColor=none;endArrow=classic;fillColor=#dae8fc;\" parent=\"1\" source=\"5\" target=\"36\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"5\" value=\"&amp;lt;font style=&amp;quot;color: rgb(150, 115, 166);&amp;quot;&amp;gt;upstream\uff08\u53d1\u5e03\u4ed3\u5e93\uff09&amp;lt;br&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(150, 115, 166);&amp;quot;&amp;gt;git@git.zju.edu.cn:os/code.git&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;\" style=\"rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"300\" y=\"130\" width=\"160\" height=\"60\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"29\" value=\"&amp;lt;font style=&amp;quot;color: rgb(204, 0, 0);&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(204, 0, 0);&amp;quot;&amp;gt;\u2468 git merge upstream/lab1&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(204, 0, 0);&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(204, 0, 0);&amp;quot;&amp;gt;\u6216\u8005git rebase upstream/lab1&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/font&amp;gt;&amp;lt;div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(204, 0, 0);&amp;quot;&amp;gt;\u5408\u5e76\u4e0a\u6e38\u66f4\u6539&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=#b85450;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=#CC0000;labelBackgroundColor=none;endArrow=classic;fillColor=#f8cecc;entryX=1;entryY=0.5;entryDx=0;entryDy=0;\" parent=\"1\" source=\"38\" target=\"44\" edge=\"1\"&gt;\n                    &lt;mxGeometry x=\"0.0008\" relative=\"1\" as=\"geometry\"&gt;\n                        &lt;mxPoint x=\"9.999999999999773\" y=\"480\" as=\"targetPoint\"/&gt;\n                        &lt;mxPoint as=\"offset\"/&gt;\n                    &lt;/mxGeometry&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"6\" value=\"lab1\" style=\"ellipse;whiteSpace=wrap;html=1;aspect=fixed;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"360\" y=\"400\" width=\"40\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"11\" style=\"edgeStyle=none;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;\" parent=\"1\" target=\"10\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"&gt;\n                        &lt;mxPoint x=\"-10\" y=\"269.9999999999999\" as=\"sourcePoint\"/&gt;\n                    &lt;/mxGeometry&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"7\" value=\"lab0\" style=\"ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;fontColor=#B85450;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"-30\" y=\"248\" width=\"40\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"22\" value=\"&amp;lt;span style=&amp;quot;color: rgb(214, 182, 86); font-size: 12px;&amp;quot;&amp;gt;\u2463 git push&amp;lt;/span&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(214, 182, 86); font-size: 12px;&amp;quot;&amp;gt;\u63a8\u9001\u4f5c\u4e1a&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=#d6b656;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=none;endArrow=classic;fillColor=#fff2cc;\" parent=\"1\" source=\"10\" target=\"21\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"10\" value=\"&amp;lt;font style=&amp;quot;color: rgb(215, 155, 0);&amp;quot;&amp;gt;\u4f60\u7684&amp;lt;/font&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#d79b00&amp;quot;&amp;gt;lab0&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;\" style=\"ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#ffe6cc;strokeColor=#d79b00;fontColor=#FF8000;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"-30\" y=\"322\" width=\"40\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"45\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=#b85450;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;fillColor=#f8cecc;\" parent=\"1\" source=\"12\" target=\"44\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"12\" value=\"lab1\" style=\"ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#d5e8d4;strokeColor=#82b366;fontColor=#82B366;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"-30\" y=\"400\" width=\"40\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"30\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=#b85450;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;fillColor=#f8cecc;\" parent=\"1\" source=\"13\" target=\"7\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"13\" value=\"\u672c\u5730 origin\" style=\"rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontColor=#B85450;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"-40\" y=\"140\" width=\"60\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"19\" value=\"&amp;lt;span style=&amp;quot;font-size: 12px;&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(184, 84, 80);&amp;quot;&amp;gt;\u2460 git clone&amp;lt;/font&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;div style=&amp;quot;scrollbar-color: rgb(226, 226, 226) rgb(251, 251, 251); font-size: 12px; color: rgb(63, 63, 63);&amp;quot;&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(184, 84, 80);&amp;quot;&amp;gt;\u62c9\u53d6\u4ed3\u5e93&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=#b85450;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=none;endArrow=classic;fillColor=#f8cecc;\" parent=\"1\" source=\"4\" target=\"13\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"&gt;\n                        &lt;mxPoint x=\"110\" y=\"160\" as=\"sourcePoint\"/&gt;\n                        &lt;mxPoint x=\"49.99999999998704\" y=\"159.57999999999987\" as=\"targetPoint\"/&gt;\n                    &lt;/mxGeometry&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"23\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=#d6b656;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;fillColor=#fff2cc;\" parent=\"1\" target=\"21\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"&gt;\n                        &lt;mxPoint x=\"195\" y=\"269.9999999999999\" as=\"sourcePoint\"/&gt;\n                    &lt;/mxGeometry&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"14\" value=\"lab0\" style=\"ellipse;whiteSpace=wrap;html=1;aspect=fixed;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"175\" y=\"248\" width=\"40\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"26\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;\" parent=\"1\" source=\"16\" target=\"6\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"16\" value=\"lab0\" style=\"ellipse;whiteSpace=wrap;html=1;aspect=fixed;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"360\" y=\"248\" width=\"40\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"20\" value=\"&amp;lt;font style=&amp;quot;color: rgb(215, 155, 0);&amp;quot;&amp;gt;\u2462 git commit&amp;lt;/font&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(215, 155, 0);&amp;quot;&amp;gt;\u63d0\u4ea4\u4f5c\u4e1a&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;\" style=\"text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#D79B00;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"-100\" y=\"287\" width=\"90\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"27\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=#82b366;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;fillColor=#d5e8d4;\" parent=\"1\" target=\"12\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"&gt;\n                        &lt;mxPoint x=\"-10\" y=\"362\" as=\"sourcePoint\"/&gt;\n                    &lt;/mxGeometry&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"21\" value=\"&amp;lt;font style=&amp;quot;color: rgb(214, 182, 86);&amp;quot;&amp;gt;\u4f60\u7684&amp;lt;/font&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font color=&amp;quot;#d6b656&amp;quot;&amp;gt;lab0&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;\" style=\"ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#fff2cc;strokeColor=#d6b656;fontColor=#D6B656;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"175\" y=\"322\" width=\"40\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"28\" value=\"&amp;lt;font style=&amp;quot;color: rgb(130, 179, 102);&amp;quot;&amp;gt;\u2467 git checkout -b lab1&amp;lt;/font&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(130, 179, 102);&amp;quot;&amp;gt;\u4e3a\u65b0 lab \u521b\u5efa\u65b0\u5206\u652f&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;\" style=\"text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#82B366;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"-150\" y=\"357\" width=\"140\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"31\" value=\"\" style=\"endArrow=classic;html=1;rounded=1;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=1;entryDx=0;entryDy=0;\" parent=\"1\" source=\"21\" target=\"21\" edge=\"1\"&gt;\n                    &lt;mxGeometry width=\"50\" height=\"50\" relative=\"1\" as=\"geometry\"&gt;\n                        &lt;mxPoint x=\"260\" y=\"360\" as=\"sourcePoint\"/&gt;\n                        &lt;mxPoint x=\"260\" y=\"360\" as=\"targetPoint\"/&gt;\n                        &lt;Array as=\"points\"&gt;\n                            &lt;mxPoint x=\"250\" y=\"310\"/&gt;\n                            &lt;mxPoint x=\"250\" y=\"370\"/&gt;\n                        &lt;/Array&gt;\n                    &lt;/mxGeometry&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"32\" value=\"\u2464 \u52a9\u6559\u6279\u6539\u3001\u67e5\u91cd\" style=\"text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"250\" y=\"327\" width=\"110\" height=\"30\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"35\" value=\"&amp;lt;span style=&amp;quot;color: rgb(150, 115, 166); font-size: 12px;&amp;quot;&amp;gt;\u2461 git remote add upstream&amp;lt;/span&amp;gt;&amp;lt;div&amp;gt;&amp;lt;span style=&amp;quot;color: rgb(150, 115, 166); font-size: 12px;&amp;quot;&amp;gt;\u8bbe\u7f6e\u4e0a\u6e38&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;\" style=\"endArrow=classic;html=1;rounded=1;strokeColor=#9673a6;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=none;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fillColor=#e1d5e7;\" parent=\"1\" source=\"13\" target=\"5\" edge=\"1\"&gt;\n                    &lt;mxGeometry x=\"0.0786\" width=\"50\" height=\"50\" relative=\"1\" as=\"geometry\"&gt;\n                        &lt;mxPoint x=\"-110\" y=\"190\" as=\"sourcePoint\"/&gt;\n                        &lt;mxPoint x=\"-60\" y=\"140\" as=\"targetPoint\"/&gt;\n                        &lt;Array as=\"points\"&gt;\n                            &lt;mxPoint x=\"200\" y=\"90\"/&gt;\n                        &lt;/Array&gt;\n                        &lt;mxPoint as=\"offset\"/&gt;\n                    &lt;/mxGeometry&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"41\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=#6c8ebf;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;fillColor=#dae8fc;\" parent=\"1\" source=\"36\" target=\"40\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"36\" value=\"\u672c\u5730 upstream\" style=\"rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#6C8EBF;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"590\" y=\"140\" width=\"60\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"38\" value=\"lab1\" style=\"ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#6C8EBF;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"600\" y=\"400\" width=\"40\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"39\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=#6c8ebf;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;fillColor=#dae8fc;\" parent=\"1\" source=\"40\" target=\"38\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"40\" value=\"lab0\" style=\"ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#dae8fc;strokeColor=#6c8ebf;fontColor=#6C8EBF;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"600\" y=\"248\" width=\"40\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"43\" value=\"\u2465 \u52a9\u6559\u53d1\u5e03\u65b0 Lab\" style=\"text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"380\" y=\"327\" width=\"110\" height=\"30\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"49\" style=\"edgeStyle=none;shape=connector;rounded=1;html=1;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;endArrow=classic;\" parent=\"1\" source=\"44\" target=\"48\" edge=\"1\"&gt;\n                    &lt;mxGeometry relative=\"1\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"44\" value=\"&amp;lt;font style=&amp;quot;color: rgb(184, 84, 80);&amp;quot;&amp;gt;\u5408\u5e76\u7684&amp;lt;/font&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font style=&amp;quot;color: rgb(184, 84, 80);&amp;quot;&amp;gt;lab1&amp;lt;/font&amp;gt;&amp;lt;/div&amp;gt;\" style=\"ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;fontColor=#B85450;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"-30\" y=\"480\" width=\"40\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"48\" value=\"......\" style=\"ellipse;whiteSpace=wrap;html=1;aspect=fixed;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"-30\" y=\"560\" width=\"40\" height=\"40\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n                &lt;mxCell id=\"52\" value=\"\u7ee7\u7eed\u5f00\u53d1\" style=\"text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=11;fontColor=default;labelBackgroundColor=default;\" parent=\"1\" vertex=\"1\"&gt;\n                    &lt;mxGeometry x=\"-74\" y=\"524\" width=\"60\" height=\"30\" as=\"geometry\"/&gt;\n                &lt;/mxCell&gt;\n            &lt;/root&gt;\n        &lt;/mxGraphModel&gt;\n    &lt;/diagram&gt;\n&lt;/mxfile&gt;"}' style="max-width:100%;border:1px solid transparent;"></div></a></p>
<p>其中从上游合并代码的步骤可能遇到冲突，你需要理解冲突部分的代码，并选择合适的解决办法。</p>
<h3 id="开发">开发<a class="headerlink" href="#开发" title="Permanent link">¶</a></h3>
<h4 id="clangd">Clangd<a class="headerlink" href="#clangd" title="Permanent link">¶</a></h4>
<p>VSCode 自带的 C/C++ 插件 IntelliSense 解析时容易受到系统头文件的影响，导致报错，在内核编程等特殊场景下表现不佳。我们推荐使用如下工具：</p>
<ul>
<li><a href="https://clangd.llvm.org/">clangd</a>：一个基于 LLVM 的 C/C++ 语言服务器，提供智能补全、语法检查等功能。它直接使用编译命令生成的编译数据库 <code>compile_commands.json</code>，能准确地解析代码关联。</li>
<li><a href="https://github.com/rizsotto/Bear">bear</a>：一个生成 <code>compile_commands.json</code> 的工具，能将 Makefile 生成的编译命令转换为 JSON 格式，供 clangd 使用。</li>
</ul>
<p>这些工具已经在实验环境中配置好。</p>
<details class="question">
<summary>FAQ：clangd 无法正常工作</summary>
<ul>
<li>
<p>现象：</p>
<p>VSCode Clangd 插件报错，提示找不到头文件或语法解析错误等，但你确认该错误不应存在。</p>
</li>
<li>
<p>原因：</p>
<p>这往往是因为 Clangd 没有重建索引。</p>
</li>
<li>
<p>解决办法：</p>
<p>按 <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-shift">Shift</kbd><span>+</span><kbd class="key-p">P</kbd></span>，输入 <code>clangd</code>，点击 <code>clangd: Restart language server</code> 重载语法解析器。</p>
</li>
</ul>
</details>
<h3 id="构建和运行">构建和运行<a class="headerlink" href="#构建和运行" title="Permanent link">¶</a></h3>
<h4 id="makefile">Makefile<a class="headerlink" href="#makefile" title="Permanent link">¶</a></h4>
<p>上文已经提到，仓库根目录下的 <code>Makefile</code> 将常用操作包装为 Make 目标，方便运行。你可以在容器内的终端中直接运行 <code>make</code> 命令来执行相应的操作。</p>
<ul>
<li><code>all</code>：<code>clean</code> 并构建内核</li>
<li><code>clean</code>：清理构建产物</li>
<li><code>run</code>：使用 QEMU 运行内核</li>
<li><code>debug</code>：使用 QEMU 运行内核（调试）</li>
<li><code>gdb</code>：启动 GDB 并连接到 QEMU（与 <code>debug</code> 配合使用）</li>
<li><code>judge</code>：运行评测</li>
<li><code>format</code>：格式化代码，请在提交代码前运行</li>
</ul>
<h4 id="qemu">QEMU<a class="headerlink" href="#qemu" title="Permanent link">¶</a></h4>
<p>在 Lab0 介绍。</p>
<h3 id="调试">调试<a class="headerlink" href="#调试" title="Permanent link">¶</a></h3>
<h4 id="gdb">GDB<a class="headerlink" href="#gdb" title="Permanent link">¶</a></h4>
<p>在 Lab0 介绍。</p>
<h4 id="vscode-调试器">VSCode 调试器<a class="headerlink" href="#vscode-调试器" title="Permanent link">¶</a></h4>
<p>VSCode 自带的调试器界面能够对接 GDB 等调试器，方便地进行各类操作，比如设置断点、单步执行、查看数据和汇编指令等。官方使用文档见 <a href="https://code.visualstudio.com/docs/debugtest/debugging">Debug code with Visual Studio Code</a>，官方配置文档见 <a href="https://code.visualstudio.com/docs/debugtest/debugging-configuration">Visual Studio Code debug configuration</a>。</p>
<p><strong>推荐同学们使用 VSCode GUI 调试，这样会比 GDB 命令更加高效</strong>。但是，在虚拟内存等实验中，可能遇到代码实现不完善导致 GDB 无法调试（GDB 受虚拟内存影响），这时候请记得 QEMU Monitor 是你的救命稻草。</p>
<p>在我们的仓库中，已经为大家准备好了 <code>.vscode/launch.json</code>，里面定义了调试配置。</p>
<p>VSCode 的官方文档演示了调试器的基本使用，包括：启动调试、设置断点、查看数据等。下面对本课程的使用做一些补充：</p>
<ul>
<li><strong>启动调试：</strong>在终端中 <code>make debug</code> 启动 QEMU，再点击 VSCode 调试器的启动按钮，VSCode 会使用仓库中的配置文件启动 <code>gdb-multiarch</code> 连接到 QEMU 并进行调试。</li>
<li><strong>查看汇编：</strong><span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-shift">Shift</kbd><span>+</span><kbd class="key-p">P</kbd></span> 打开命令面板，输入 <code>assem</code> 找到 <code>Open Disassembly View</code>。</li>
</ul>
<h3 id="本地评测">本地评测<a class="headerlink" href="#本地评测" title="Permanent link">¶</a></h3>
<div class="admonition success">
<p class="admonition-title">请同学们在本地通过评测后再推送代码到 ZJU Git</p>
</div>
<p>评测框架作为 Git Submodule 放置在课程代码仓库的 <code>autograder</code> 目录下。<code>make judge</code> 本质上运行了下面这条命令：</p>
<div class="language-console highlight"><pre><span></span><code><span id="__span-29-1"><a href="#__codelineno-29-1" id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="go">uv --project autograder run autograder [--lab labN]</span>
</span></code></pre></div>
<p><a href="https://github.com/astral-sh/uv">uv</a> 是一个流行的 Python 包管理器，评测框架使用它管理环境并运行。</p>
<p>不给定参数的情况下，评测框架会检查当前的 Git 分支名并运行对应的实验评测（例如 <code>lab1*</code> 分支会运行 lab1 的评测）。也可以通过 <code>--lab</code> 参数指定要运行的实验。</p>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="Last update">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="2025年10月12日 01:05:50 UTC"><span class="timeago" datetime="2025-10-12T01:05:50+00:00" locale="zh"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="2025年10月12日 01:05:50 UTC">2025-10-12</span>
</span>
<span class="md-source-file__fact">
<span class="md-icon" title="Created">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="2025年10月4日 16:54:24 UTC"><span class="timeago" datetime="2025-10-04T16:54:24+00:00" locale="zh"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="2025年10月4日 16:54:24 UTC">2025-10-04</span>
</span>
<span class="md-source-file__fact">
<span class="md-icon" title="Contributors">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path></svg>
</span>
<span>GitHub</span>
<nav>
<a class="md-author" href="https://github.com/bowling233" title="@bowling233">
<img alt="bowling233" src="https://avatars.githubusercontent.com/u/35755846?v=4&amp;size=72"/>
</a>
</nav>
</span>
</aside>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: 首页" class="md-footer__link md-footer__link--prev" href="..">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                首页
              </div>
</div>
</a>
<a aria-label="Next: Lab 0: Linux 内核调试" class="md-footer__link md-footer__link--next" href="../lab0/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                Lab 0: Linux 内核调试
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      浙江大学计算机科学与技术学院
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.tracking", "navigation.path", "navigation.top", "toc.follow", "content.action.edit", "search.suggest", "search.highlight", "search.share"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
<script src="../js/timeago.min.js"></script>
<script src="../js/timeago_mkdocs_material.js"></script>
<script src="../javascripts/mathjax.js"></script>
<script src="https://cdn.jsdelivr.net/npm/polyfill/index.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tablesort/dist/tablesort.min.js"></script>
<script src="../javascripts/tablesort.js"></script>
<script src="../javascripts/mermaid.mjs" type="module"></script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script><script src="https://viewer.diagrams.net/js/viewer-static.min.js"></script></body></html>